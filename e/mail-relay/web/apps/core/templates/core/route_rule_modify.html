{% extends 'base.html' %}
{% load static %}
{% load bootstrap %}

{% block header %}更新路由规则{% endblock %}
{% block css-block %}
    <link href="{% static 'datetimepicker/css/bootstrap-datetimepicker.min.css' %}" rel="stylesheet">
{% endblock %}

{% block content %}
    <div class="row">
        <div class="col-lg-12">
            <div class="panel panel-default">
                <div class="panel-heading">
                    路由规则信息
                </div>
                <div class="panel-body">
                    <div class="row">
                        <div class="col-lg-6">
                            <form role="form" action="" method="post">
                                {% csrf_token %}
                                <table> {{ form|bootstrap }} </table>
                                <button type="submit" class="btn btn-primary">确认</button>
                                <button type="button" class="btn btn-link" onclick="location.href='{% url "route_rule_list" ip_pool_id %}'">取消</button>
                            </form>
                        </div>
                    </div>
                    <!-- /.row (nested) -->
                </div>
                <!-- /.panel-body -->
            </div>
        </div>
        <!-- /.col-lg-12 -->
    </div>
{% endblock %}

{% block js-block %}
    <script src="{% static "datetimepicker/js/bootstrap-datetimepicker.min.js" %}"></script>
    <script src="{% static "datetimepicker/js/bootstrap-datetimepicker.zh-CN.js" %}"></script>
    <script>

        $(function(){
            init();
            $('.dateinput').datetimepicker({
                format: "yyyy-mm-dd",
                language: 'zh-CN',
                weekStart: 1,
                todayBtn: 1,
                autoclose: 1,
                minView: 2,
                pickerPosition: "bottom-left"

            });

        $("#id_type").change( function() {
            init();
            });
        });
        function init(){
            var selectedvalue = $("#id_type").children("option:selected").val();
            if(selectedvalue == 'domain'){
               $(".form-group:eq(2)").show();
               $(".form-group:eq(3)").hide();
            }else{
               $(".form-group:eq(2)").hide();
               $(".form-group:eq(3)").show();
            }
        }
    </script>
{% endblock %}

